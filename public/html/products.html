<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Sản Phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<style>
    .space {
        margin-top: 30px;
        width: 100%;
        height: 1px;
    }
</style>
<body>
    <header class="bg-light py-3 text-center">
        <h1>Giao nhanh, ăn ngon, không lo giá cả</h1>
        <button class="btn btn-success">Lựa đồ ăn, nước uống thôi!</button>
    </header>
    
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8">
                <div class="space"></div>
                <h3>Combo</h3>
                <div class="row" id="product-list">
                    <div class="col-md-6 mb-3 product" data-id="1" data-name="Bánh tráng cuốn" data-price="25000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image1.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Bánh tráng cuốn</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">100 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">25.000đ</strong> <del class="text-muted">30.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ---------------------------------------------------------------------------- -->
                    <div class="col-md-6 mb-3 product" data-id="2" data-name="Trà chanh" data-price="15000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image2.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Trà chanh</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">200 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">15.000đ</strong> <del class="text-muted">20.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="3" data-name="Bánh mì" data-price="20000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image3.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Bánh mì</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">150 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">20.000đ</strong> <del class="text-muted">25.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="4" data-name="Nước cam" data-price="10000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image4.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Nước cam</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">300 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">10.000đ</strong> <del class="text-muted">15.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="space"></div>
                      <h3>Món ăn</h3>
                     <div class="col-md-6 mb-3 product" data-id="5" data-name="Phở bò" data-price="30000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image5.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Phở bò</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">400 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">30.000đ</strong> <del class="text-muted">35.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="6" data-name="Bún chả" data-price="35000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image6.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Bún chả</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">500 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">35.000đ</strong> <del class="text-muted">40.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="7" data-name="Cháo gà" data-price="25000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image7.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Cháo gà</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">600 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">25.000đ</strong> <del class="text-muted">30.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="8" data-name="Bánh xèo" data-price="20000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image8.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Bánh xèo</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">700 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">20.000đ</strong> <del class="text-muted">25.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                      <div class="space"></div>
                      <h3>Nước uống</h3>
                     <div class="col-md-6 mb-3 product" data-id="9" data-name="Cà phê sữa" data-price="15000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image9.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Cà phê sữa</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">800 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">15.000đ</strong> <del class="text-muted">20.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="10" data-name="Sinh tố bơ" data-price="20000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image10.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Sinh tố bơ</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">900 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">20.000đ</strong> <del class="text-muted">25.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="11" data-name="Nước dừa" data-price="12000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image11.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Nước dừa</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">1000 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">12.000đ</strong> <del class="text-muted">15.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- ---------------------------------------------------------------------------- -->
                     <div class="col-md-6 mb-3 product" data-id="12" data-name="Trà sữa" data-price="18000">
                        <div class="card p-3 shadow-sm">
                            <div class="d-flex">
                                <img src="image12.jpg" class="img-fluid rounded" style="width: 100px; height: 100px; object-fit: cover;">
                                <div class="ms-3">
                                    <h5 class="mb-1">Trà sữa</h5>
                                    <p class="mb-1"><i class="fas fa-home text-success"></i> Quán Ngũ Long | <span class="text-muted">1100 đã bán</span></p>
                                    <p class="mb-1"><strong class="text-success">18.000đ</strong> <del class="text-muted">20.000đ</del></p>
                                    <button class="btn btn-success btn-sm add-to-cart">Thêm vào giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <h3>Giỏ hàng của tôi</h3>
                <ul id="cart-items" class="list-group mb-3"></ul>
                <h4>Tổng tiền: <span id="total-price">0</span>đ</h4>
                <button class="btn btn-primary btn-success" id="checkout">Thanh toán</button>
            </div>
            
        </div>
    </div>
    
    <script>
        let cart = [];
        function renderCart() {
            let cartItems = $('#cart-items');
            cartItems.empty();
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
                cartItems.append(`
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>${item.name} - <strong>${item.price * item.quantity}đ</strong></span>
                        <input type="number" class="form-control quantity-input" data-id="${item.id}" value="${item.quantity}" min="1" max="10" style="width: 60px;">
                        <button class="btn btn-danger btn-sm remove-from-cart" data-id="${item.id}">Xóa</button>
                    </li>
                `);
            });

            $('#total-price').text(total);

            // Xử lý khi thay đổi số lượng
            $('.quantity-input').on('change', function () {
                let id = $(this).data('id');
                let newQuantity = parseInt($(this).val());

                let item = cart.find(i => i.id === id);
                if (item && newQuantity >= 1) {
                    item.quantity = newQuantity;
                    renderCart(); // Cập nhật lại giỏ hàng sau khi thay đổi số lượng
                }
            });

            // Xử lý xóa sản phẩm
            $('.remove-from-cart').on('click', function () {
                let id = $(this).data('id');
                cart = cart.filter(i => i.id !== id);
                renderCart();
            });
        }

        $(document).on('click', '.add-to-cart', function() {
            let productDiv = $(this).closest('.product'); // Tìm thẻ cha gần nhất có class là product
            let id = productDiv.data('id'); // Lấy giá trị của thuộc tính data-id của thẻ product
            let name = productDiv.data('name'); // Lấy giá trị của thuộc tính data-name của thẻ product
            let price = productDiv.data('price'); // Lấy giá trị của thuộc tính data-price của thẻ product
            let existingItem = cart.find(item => item.id === id); // Tìm sản phẩm trong giỏ hàng có id trùng với id sản phẩm vừa click
            
            if (existingItem) {
                existingItem.quantity++; // Tăng số lượng sản phẩm trong giỏ hàng
            } else {
                cart.push({ id, name, price, quantity: 1 }); // Thêm sản phẩm vào giỏ hàng
            }
            renderCart();
        });
    </script>
</body>
</html>